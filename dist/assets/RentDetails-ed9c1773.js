import{j as e,h as x,g as u,_ as v,r as D,S as j,s as y}from"./index-fbe74309.js";import{I as L,L as q,M as p,a as N}from"./index.esm-c22332c0.js";import{G as R}from"./iconBase-9cbf1102.js";import{u as F}from"./index.esm-8f3dfcf2.js";import{g as I,s as S}from"./apiMessages-902cea57.js";import{u as k}from"./useMutation-72dcc64b.js";import{T as B}from"./index.esm-53e219cc.js";import{E as w}from"./ErrorRent-f05b3a55.js";function M(){return e.jsxs("div",{children:[e.jsx("h1",{className:"font-Inter font-bold text-xl",children:"About this home"}),e.jsx("p",{className:"font-inter",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae consectetur quos doloribus nemo modi magni ducimus. Consectetur incidunt culpa laudantium repudiandae iusto aspernatur animi placeat, itaque nam suscipit magnam veritatis! Suscipit facilis vel fugit maiores consectetur, animi perferendis minima veniam!"})]})}function O({name:s,location:t,isLoading:i}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-roboto font-bold text-indigo-500",children:"<Back"}),e.jsx("div",{className:"font-bold font-Inter text-2xl capitalize md:text-4xl  ",children:s}),e.jsx("div",{className:"font-inter",children:t})]})}function P({area:s,bathRooms:t,beds:i,image:n,interiorImage:r,isLoading:d}){return e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex  mt-4 flex-col md:flex-row md:gap-5 md:grid md:grid-cols-2",children:[e.jsx("div",{className:" rounded-lg overflow-hidden mb-2 md:mb-0 md:h-[70dvh]",children:e.jsx("img",{src:n,alt:"",className:"h-[100%] w-[100%] rounded-lg"})}),e.jsx("div",{className:" rounded-lg overflow-hidden mb-2 md:mb-0 md:h-[70dvh]",children:e.jsx("img",{src:r,alt:"",className:"h-[100%] w-[100%] rounded-lg"})})]}),e.jsxs("div",{className:"flex flex-wrap space-x-6 mt-4  md:space-x-0 md:justify-evenly md:mt-3 border-solid border-2 border-indigo-100 px-6   md:p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{children:"Bed"}),e.jsxs("div",{className:"flex  items-baseline",children:[" ",e.jsx(L,{})," ",e.jsx("span",{className:"ml-1 font-bold",children:i})]})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Bath"}),e.jsxs("div",{className:"flex  items-baseline",children:[e.jsx(q,{})," ",e.jsx("span",{className:"ml-1 font-bold",children:t})]})]}),e.jsxs("div",{children:[e.jsx("div",{children:"sqft"}),e.jsxs("div",{className:"flex  items-baseline ",children:[e.jsx(p,{})," ",e.jsxs("span",{className:"ml-1 font-bold",children:[s," m²"]})]})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{children:"Repair Quality"}),e.jsxs("div",{className:"flex  items-baseline font-bold",children:[e.jsx(p,{})," Modern Loft"]})]})]})]})})}function A(s){return R({tag:"svg",attr:{t:"1569683742680",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-0.9 3.7-0.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 0.7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-0.8 4.2-2.6 5-5 1.4-4.2-0.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]})(s)}function E(){const{propertyID:s}=x(),{isLoading:t,data:i,error:n}=u({queryKey:["propertyOwner",s],queryFn:()=>I(s)});return{isLoading:t,data:i,error:n}}function C(){const{propertyID:s}=x(),{mutate:t,isLoading:i}=k({mutationFn:n=>{S(s,n)},onSuccess:n=>{v.success("message sent.")},onError:n=>{v.error("could not send message,try again")}});return{messageData:t,isLoading:i}}function z(){var b;const[s,t]=D.useState(!1),{register:i,handleSubmit:n,formState:r,reset:d}=F(),{errors:a}=r,{messageData:o,isLoading:m}=C(),{isLoading:c,data:l,error:g}=E();if(c)return e.jsx(j,{});function h(f){o(f,{onSuccess:Y=>{d()}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-solid border-2 border-indigo-100 px-4 mt-4 rounded-lg md:border-0 md:px-0",children:[e.jsxs("h3",{className:"md:hidden font-inter font-light mt-2",children:["Listed by ",l[0].ownerName]}),e.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{className:"md:border-solid md:border-2 md:border-indigo-100 md:rounded-lg md: px-4 ",children:[e.jsxs("h3",{className:"767:hidden font-inter font-light mt-2",children:["Listed by ",l[0].ownerName]}),e.jsxs("div",{className:"flex mt-2",children:[e.jsx("div",{children:e.jsx("img",{src:"../../public/avatar1.jpg",alt:"avatar",className:"h-[4rem] w-[4rem] rounded-full"})}),e.jsx("div",{className:"flex items-center justify-center font-bold",children:"owner name"})]}),e.jsxs("div",{className:"transition-all",children:[e.jsx("div",{className:"mt-2 mb-2 border-solid border-2 border-indigo-100 bg-indigo-200 text-indigo-600 md:hover:text-indigo-800 hover:bg-indigo-400 rounded-md p-4 text-center font-bold transition-all",onClick:()=>t(f=>!f),children:"Ask a question about this home"}),s&&e.jsx("div",{className:"mt-4 transition-all delay-100",children:e.jsxs("form",{onSubmit:n(h),children:[e.jsxs("div",{className:"w-[100%] ",children:[e.jsx("input",{type:"text",className:"border-solid border-2 border-black w-[100%] rounded-md h-[5rem]",...i("message",{required:!0}),"aria-invalid":a.name?"true":"false"}),e.jsx("div",{className:"ml-1",children:((b=a.message)==null?void 0:b.type)==="required"&&e.jsx("p",{role:"alert",className:"font-inter text-red-600",children:"you can not send an empty message boy"})})]}),e.jsxs("button",{className:"flex items-center space-x-8 bg-indigo-600 py-2 px-2 text-white font-Inter rounded-md mb-4 mt-2",children:[" send   ",e.jsx(A,{})]})]})})]})]}),e.jsx("div",{children:e.jsx("div",{className:"border-solid border-2 border-indigo-100 p-8 mt-4 rounded-lg  767:hidden",children:e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold mb-2",children:"Request a home tour"}),e.jsxs("div",{className:`flex items-center justify-center space-x-1 text-white bg-indigo-800 hover:bg-indigo-950\r
                            text-center p-2 rounded-lg mb-2 `,children:[e.jsx("div",{children:e.jsx(N,{color:"white"})}),e.jsx("div",{children:" Request a tour"})]})]})})})]})]}),e.jsx("div",{className:"border-solid border-2 border-indigo-100 px-4 mt-4 rounded-lg md:hidden",children:e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold mb-2",children:"Request a home tour"}),e.jsxs("div",{className:`flex items-center justify-center space-x-1 text-white bg-indigo-800 hover:bg-indigo-950\r
                text-center p-2 rounded-lg mb-2 `,children:[e.jsx("div",{children:e.jsx(N,{color:"white"})}),e.jsx("div",{children:" Request a tour"})]})]})})]})}async function T(s){const{data:t,error:i}=await y.from("PropertiesForRent").select("*").eq("id",s);if(i)throw console.error(i),new Error("properties Details could not be loaded");return t}async function H(s){const{data:t,error:i}=await y.from("RentalFeatures").select("*").eq("propertyForRentID",8);if(i)throw console.error(i),new Error("rental Details could not be loaded");return t}function K(){const{propertyID:s}=x(),{isLoading:t,data:i,error:n}=u({queryKey:["rentalDetails",s],queryFn:()=>H()});return{isLoading:t,data:i,error:n}}function _({area:s,price:t}){const{isLoading:i,data:n,error:r}=K();if(i)return e.jsx(j,{});if(r)return e.jsx(w,{});const{city:d,cooling:a,heating:o,laundry:m,parkingArea:c,yearBuilt:l,created_at:g}=n[0],h=g.split("T");return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"font-inter font-bold ",children:"Rental features"}),e.jsxs("div",{className:"md:grid grid-cols-2  md:gap-[15rem] lg:gap-[16rem] xl:gap-[18] 2xl:gap-[20rem]",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsxs("div",{className:"font-rubik text-indigo-950 font-bold text-xs flex ",children:[e.jsx("div",{className:"font-inter  font-black ",children:"Listed on  "}),e.jsx(B,{color:"#1e1b4b"}),"Zeco estate"]}),e.jsx("div",{className:"font-inter font-bold",children:h[0]})]}),e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx("div",{className:"font-inter font-light",children:"Date available"}),e.jsx("div",{className:"font-inter font-bold",children:"Available now"})]}),e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx("div",{className:"font-inter font-light",children:"Type"}),e.jsx("div",{className:"font-inter font-bold",children:"Home"})]}),e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx("div",{className:"font-inter font-light",children:"Laundry"}),e.jsx("div",{className:"font-inter font-bold",children:m})]}),e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx("div",{className:"font-inter font-light",children:"Cooling"}),e.jsx("div",{className:"font-inter font-bold",children:a})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx("div",{className:"font-inter font-light",children:"Heating"}),e.jsx("div",{className:"font-inter font-bold",children:o})]}),e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx("div",{className:"font-inter font-light",children:"City"}),e.jsx("div",{className:"font-inter font-bold",children:d})]}),e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx("div",{className:"font-inter font-light",children:"Size"}),e.jsxs("div",{className:"font-inter font-bold",children:[s," sqft"]})]}),e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx("div",{className:"font-inter font-light",children:"Parking Area"}),e.jsx("div",{className:"font-inter font-bold",children:c?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx("div",{className:"font-inter font-light",children:"Year Built"}),e.jsx("div",{className:"font-inter font-bold",children:l})]}),e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx("div",{className:"font-inter font-light",children:"Deposits & Fees"}),e.jsxs("div",{className:"font-inter font-bold",children:["$",t]})]})]})]})]})}function G(){const{propertyID:s}=x(),{isLoading:t,data:i,error:n}=u({queryKey:["details",s],queryFn:()=>T(s)});return{isLoading:t,data:i,error:n}}function Q(){const{isLoading:s,data:t,error:i}=G();if(s)return e.jsx(j,{});if(i)return e.jsx(w,{});const{area:n,bathRooms:r,beds:d,image:a,interiorImage:o,location:m,name:c,price:l}=t[0];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-16",children:[e.jsx(O,{name:c,location:m}),e.jsx("div",{children:e.jsx(P,{area:n,bathRooms:r,beds:d,image:a,interiorImage:o})}),e.jsx("div",{className:"mt-4",children:e.jsx(M,{})}),e.jsx("div",{className:"mb-6",children:e.jsx(z,{})}),e.jsx("div",{className:"mb-6",children:e.jsx(_,{area:n,price:l})})]})})}function se(){return e.jsx(e.Fragment,{children:e.jsx(Q,{})})}export{se as default};
