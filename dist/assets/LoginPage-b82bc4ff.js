import{b as g,a as x,i as j,_ as v,r as u,j as e}from"./index-fbe74309.js";import{u as w}from"./index.esm-8f3dfcf2.js";import{T as N}from"./index.esm-53e219cc.js";import{u as y}from"./useMutation-72dcc64b.js";import"./iconBase-9cbf1102.js";function L(){const t=g(),s=x(),{mutate:i,isLoading:o}=y({mutationFn:({email:r,password:n})=>j({email:r,password:n}),onSuccess:r=>{t.setQueryData(["user"],r.user),s("/home")},onError:r=>{v.error("Provided email or password are incorrect")}});return{login:i,isLoading:o}}function S(){var d,l;const t=x(),{register:s,handleSubmit:i,formState:o}=w(),{errors:r}=o,{login:n,isLoading:a}=L(),[q,b]=u.useState(""),[E,f]=u.useState("");function h(){t("/")}function p({email:m,password:c}){!m||!c||n({email:m,password:c},{onSettled:()=>{b(""),f("")}})}return e.jsx("div",{children:e.jsx("div",{className:"border-solid border- border-red-600 mt-[20dvh] px-2 py-2 md:px-8 md:mt-[23dvh] lg:px-[10rem]",children:e.jsxs("div",{className:"border-solid border- border-blue-950 bg-indigo-50 px-1 shadow-sm shadow-indigo-950 md:px-8 md:py-4",children:[e.jsxs("div",{className:"font-rubik text-indigo-950 font-bold text-2xl flex justify-center items-center mb-2 ",children:[e.jsx(N,{color:"#1e1b4b"}),"Zeco estate"]}),e.jsx("h1",{className:"text-center font-bold font-inter md:text-xl mb-[2rem] ",children:"Login "}),e.jsxs("form",{onSubmit:i(p),children:[e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("label",{htmlFor:"email",className:"font-inter font-bold mb-1 md:mr-[0.9rem]",children:"Email Address "}),e.jsx("input",{type:"email",className:"border-2 border-solid  rounded-md md:w-[80%] md:mb-3",...s("email",{required:!0}),"aria-invalid":r.email?"true":"false",disabled:a}),((d=r.email)==null?void 0:d.type)==="required"&&e.jsx("p",{role:"alert",className:"font-inter text-red-600 ml-1",children:"email is required"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row ",children:[e.jsx("label",{htmlFor:"password",className:"font-inter font-bold mb-1 md:mr-[3rem]",children:"Password"}),e.jsx("input",{type:"password",className:"border-2 border-solid rounded-md md:w-[80%]",...s("password",{required:!0,minLength:{value:8}}),"aria-invalid":r.password?"true":"false",disabled:a}),((l=r.password)==null?void 0:l.type)==="minLength"&&e.jsx("p",{role:"alert",className:"font-inter text-red-600 ml-1",children:"password should be above 6 characters"})]}),e.jsxs("div",{className:"flex justify-center items-center flex-col",children:[e.jsx("button",{className:`text-white font-inter rounded-lg p-2 mt-4 mb-2 font-bold bg-indigo-800 w-[10rem] md:hover:bg-indigo-900\r
                            md:w-[15rem]`,children:a?"Loging in.....":"Login"}),e.jsxs("div",{className:"font-inter mt-2 ",children:["Dont have an account? ",e.jsx("span",{onClick:h,className:"text-indigo-800 hover:underline",children:"Sign up here"})," "]})]})]})]})})})}function D(){return e.jsx("div",{children:e.jsx(S,{})})}export{D as default};
